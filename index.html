<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quiz Cerdas Nusantara</title>
<style>
  * {box-sizing:border-box;font-family:'Poppins',sans-serif;}
  body {margin:0;background:#f7f7f7;color:#222;display:flex;flex-direction:column;align-items:center;}
  header {width:100%;background:linear-gradient(to right,red,white);color:#d00;text-align:center;padding:10px 0;font-size:1.5rem;font-weight:bold;text-shadow:1px 1px #fff;}
  h1 {color:#004aad;}
  #quizContainer {background:#fff;padding:20px;border-radius:12px;box-shadow:0 4px 10px rgba(0,0,0,.1);max-width:700px;width:90%;margin-top:20px;}
  button {cursor:pointer;padding:10px 20px;border:none;border-radius:8px;font-size:1rem;}
  .btn-primary {background:#004aad;color:white;}
  .btn-primary:hover {background:#003380;}
  .answer {display:block;margin:8px 0;padding:10px;border:1px solid #ccc;border-radius:8px;cursor:pointer;}
  .answer:hover {background:#f0f0f0;}
  .correct {background:#d4edda;border-color:#28a745;}
  .wrong {background:#f8d7da;border-color:#dc3545;}
  .feedback {margin-top:10px;font-style:italic;}
  .timer {font-weight:bold;color:#d00;margin-bottom:10px;}
  #leaderboard {margin-top:20px;width:100%;}
  table {width:100%;border-collapse:collapse;}
  th,td {padding:8px;border-bottom:1px solid #ddd;text-align:center;}
  #nameInputContainer {margin-top:50px;text-align:center;}
</style>
</head>
<body>
<header>SEMANGAT MERDEKA! üáÆüá©</header>

<div id="nameInputContainer">
  <h1>Quiz Cerdas Nusantara</h1>
  <p>Masukkan nama untuk mulai bermain:</p>
  <input type="text" id="playerName" placeholder="Nama kamu...">
  <br><br>
  <button class="btn-primary" onclick="startGame()">Mulai!</button>
</div>

<div id="quizContainer" style="display:none;">
  <div class="timer" id="timer">Waktu: 30 detik</div>
  <div id="questionText"></div>
  <div id="answers"></div>
  <div class="feedback" id="feedback"></div>
  <button id="nextBtn" class="btn-primary" style="margin-top:15px;display:none;" onclick="nextQuestion()">Soal Berikutnya</button>
</div>

<div id="leaderboard" style="display:none;">
  <h2>üèÜ Leaderboard Global</h2>
  <table>
    <thead><tr><th>Nama</th><th>Skor</th></tr></thead>
    <tbody id="leaderboardBody"></tbody>
  </table>
  <button class="btn-primary" onclick="restartGame()">Main Lagi</button>
</div>

<script>
// ==== DATA SOAL ====
const questions = [
  // --- Sejarah ---
  {q:"Kapan proklamasi kemerdekaan Indonesia dibacakan?",a:["17 Agustus 1945"],choices:["17 Agustus 1945","18 Agustus 1945","10 November 1945","1 Juni 1945"],feedback:"Dibacakan oleh Soekarno dan Hatta pada 17 Agustus 1945 di Jakarta."},
  {q:"Tokoh yang dikenal sebagai 'Bapak Koperasi Indonesia' adalah...",a:["Mohammad Hatta"],choices:["Ir. Soekarno","Mohammad Hatta","Ki Hajar Dewantara","Sutan Syahrir"],feedback:"Mohammad Hatta dikenal sebagai Bapak Koperasi Indonesia."},

  // --- PPKN ---
  {q:"Apa arti dari Pancasila sila ke-5?",a:["Keadilan sosial bagi seluruh rakyat Indonesia"],choices:["Persatuan Indonesia","Ketuhanan yang Maha Esa","Keadilan sosial bagi seluruh rakyat Indonesia","Kemanusiaan yang adil dan beradab"],feedback:"Sila ke-5 berbunyi 'Keadilan sosial bagi seluruh rakyat Indonesia'."},
  {q:"Salah satu hak warga negara menurut UUD 1945 adalah...",a:["Hak memperoleh pendidikan"],choices:["Hak menjadi presiden","Hak memperoleh pendidikan","Hak membuat undang-undang","Hak mengadili"],feedback:"Pasal 31 UUD 1945 menjamin hak warga negara untuk memperoleh pendidikan."},

  // --- Fisika ---
  {q:"Hukum Ohm menyatakan bahwa...",a:["V = I √ó R"],choices:["V = I + R","V = I √ó R","P = V + I","I = V √ó R"],feedback:"Hukum Ohm: Tegangan (V) = Arus (I) √ó Hambatan (R)."},
  {q:"Energi potensial gravitasi dirumuskan dengan...",a:["Ep = m √ó g √ó h"],choices:["Ek = ¬Ωmv¬≤","Ep = m √ó g √ó h","W = F √ó s","P = W/t"],feedback:"Ep = m √ó g √ó h, m= massa, g= gravitasi, h= tinggi."},

  // --- Matematika ---
  {q:"Turunan dari f(x) = 3x¬≤ adalah...",a:["6x"],choices:["3x","6x","x¬≤","9x¬≤"],feedback:"Turunan 3x¬≤ adalah 6x."},
  {q:"Nilai dari sin(30¬∞) adalah...",a:["0.5"],choices:["0.5","‚àö3/2","1","0"],feedback:"sin(30¬∞) = ¬Ω = 0.5."},

  // --- Bahasa Indonesia ---
  {q:"Kalimat efektif adalah...",a:["Kalimat yang lugas, jelas, dan tidak bertele-tele"],choices:["Kalimat yang panjang","Kalimat yang berima","Kalimat yang lugas, jelas, dan tidak bertele-tele","Kalimat yang memiliki banyak kata"],feedback:"Kalimat efektif menyampaikan gagasan secara lugas dan tepat."},
  {q:"Sinonim dari kata 'mandiri' adalah...",a:["Berdikari"],choices:["Bersama","Berani","Berdikari","Berbeda"],feedback:"Mandiri berarti berdiri di atas kemampuan sendiri, sinonimnya 'Berdikari'."},

  // --- Bahasa Inggris ---
  {q:"The past tense of 'go' is...",a:["went"],choices:["gone","goes","went","going"],feedback:"Past tense dari 'go' adalah 'went'."},
  {q:"Choose the correct sentence: ...",a:["She is reading a book"],choices:["She read a book now","She is reading a book","She reads a book now","She reading a book"],feedback:"Present continuous tense: 'She is reading a book'."},

  // --- Biologi ---
  {q:"Organel sel yang berfungsi menghasilkan energi adalah...",a:["Mitokondria"],choices:["Nukleus","Ribosom","Mitokondria","Lisosom"],feedback:"Mitokondria sering disebut 'powerhouse of the cell'."},
  {q:"Fotosintesis terjadi di bagian tumbuhan yang mengandung...",a:["Klorofil"],choices:["Xilem","Klorofil","Floem","Akar"],feedback:"Fotosintesis terjadi di kloroplas yang mengandung klorofil."}
];
// Ulang-ulang data untuk mencapai 100 soal (biar ringkas contoh ini saja)
while (questions.length < 100) questions.push(...questions.slice(0,14));
questions.length = 100;

// ==== VARIABEL ====
let current = 0, score = 0, playerName = "", timer, timeLeft = 30;

// ==== FUNGSI ====
function startGame(){
  playerName = document.getElementById("playerName").value.trim();
  if(!playerName) return alert("Masukkan nama dulu!");
  document.getElementById("nameInputContainer").style.display="none";
  document.getElementById("quizContainer").style.display="block";
  current = 0; score = 0;
  loadQuestion();
}

function loadQuestion(){
  clearInterval(timer);
  timeLeft = 30;
  const q = questions[current];
  document.getElementById("feedback").innerHTML="";
  document.getElementById("nextBtn").style.display="none";
  document.getElementById("questionText").innerHTML=`<h3>${current+1}. ${q.q}</h3>`;
  document.getElementById("answers").innerHTML="";
  q.choices.forEach(c=>{
    const btn=document.createElement("div");
    btn.className="answer";
    btn.textContent=c;
    btn.onclick=()=>checkAnswer(c,btn,q);
    document.getElementById("answers").appendChild(btn);
  });
  updateTimer();
  timer=setInterval(()=>{
    timeLeft--;
    updateTimer();
    if(timeLeft<=0){clearInterval(timer);showFeedback(false,q);}
  },1000);
}

function updateTimer(){
  document.getElementById("timer").textContent=`Waktu: ${timeLeft} detik`;
}

function checkAnswer(ans,el,q){
  clearInterval(timer);
  const all=document.querySelectorAll(".answer");
  all.forEach(b=>{
    if(q.a.includes(b.textContent)) b.classList.add("correct");
    else b.classList.add("wrong");
    b.onclick=null;
  });
  if(q.a.includes(ans)) {
    score+=10;
    showFeedback(true,q);
  } else {
    score+=q.a.some(a=>ans.includes(a))?5:0;
    showFeedback(false,q);
  }
}

function showFeedback(correct,q){
  const fb=document.getElementById("feedback");
  fb.innerHTML=(correct?"‚úÖ Benar! ":"‚ùå Salah. ")+`<br>${q.feedback}`;
  document.getElementById("nextBtn").style.display="inline-block";
}

function nextQuestion(){
  current++;
  if(current>=questions.length) endGame();
  else loadQuestion();
}

function endGame(){
  document.getElementById("quizContainer").style.display="none";
  document.getElementById("leaderboard").style.display="block";
  let board=JSON.parse(localStorage.getItem("leaderboard")||"[]");
  board.push({name:playerName,score});
  board.sort((a,b)=>b.score-a.score);
  localStorage.setItem("leaderboard",JSON.stringify(board.slice(0,10)));
  const tbody=document.getElementById("leaderboardBody");
  tbody.innerHTML="";
  board.slice(0,10).forEach((p,i)=>{
    tbody.innerHTML+=`<tr><td>${i+1}. ${p.name}</td><td>${p.score}</td></tr>`;
  });
}

function restartGame(){
  document.getElementById("leaderboard").style.display="none";
  document.getElementById("nameInputContainer").style.display="block";
  document.getElementById("playerName").value="";
}
</script>
</body>
</html>
